exec --no-startup-id xset -b :&
exec --no-startup-id ~/.fehbg &
exec --no-startup-id compton &
exec --no-startup-id redshift -l -16.75:-49.29 &
exec --no-startup-id setxkbmap br &
exec --no-startup-id nvidia-settings --assign CurrentMetaMode="nvidia-auto-select +0+0 { ForceFullCompositionPipeline = On }"
exec_always --no-startup-id "pgrep --exact xev || xev -root -event randr | grep --line-buffered ScreenChangeNotify | while read change; do pkill -RTMIN+4 i3blocks; done"

set $mod Mod1
set $editor termite

set $red         #fb4934
set $darkred     #cc241d
set $green       #b8bb26
set $darkgreen   #98971a
set $yellow      #fabd2f
set $darkyellow  #d79921
set $blue        #83a598
set $darkblue    #458588
set $magenta     #d3869b
set $darkmagenta #b16286
set $cyan        #8ec07c
set $darkcyan    #689d6a
set $white       #ebdbb2
set $darkwhite   #a89984

# Use custom colors for black
set $black       #282828
set $darkblack   #1d2021
set $transparent #1d2021A0

set $default_gaps_inner 0
set $default_gaps_outer 0
gaps inner $default_gaps_inner
gaps outer $default_gaps_outer

# Set default container layout: workspace_layout <default|stacking|tabbed>
workspace_layout tabbed

for_window [class="^.*"] border pixel 0
for_window [instance="urxvt|$editor"] layout default
for_window [class="Dia"] layout default
#for_window [class="Dia"] border normal

# Toggle floatting/tiling
#bindsym $MOD+SHIFT+t floating toggle

# New window default border
#new_window none
#new_float pixel 1

# Borderless windows:
#for_window [class="libreoffice|chromium|Chromium|MPlayer|Zathura|Firefox|Geany"] border none
#for_window [instance="drracket|chromium|galculator|feh|leafpad|pcmanfm"] border none

# Hide edge borders
#hide_edge_borders <none|vertical|horizontal|both>
hide_edge_borders both

# Font for window titles. ISO 10646 = Unicode
font pango:Source Sans Pro Semibold 11

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Back and Forth
workspace_auto_back_and_forth yes

force_display_urgency_hint 0 ms
focus_on_window_activation urgent

floating_minimum_size -1 x -1
floating_maximum_size -1 x -1

#                       BORDER      BACKGROUND  TEXT        INDICATOR   CHILD_BORDER
client.focused          $black      $black      $darkwhite  $darkblack  $darkblack
client.unfocused        $black      $black      $white      $darkblack  $darkblack
client.focused_inactive $black      $black      $white      $darkblack  $darkblack
client.urgent           $darkred    $darkred    $black      $darkred    $darkred
client.background       $black

floating_modifier $mod

# Alt+TAB
bindsym $mod+Tab focus right
# Alt+TAB Reverse
bindsym Shift+Tab focus left

# kill focused window
bindsym $mod+Q kill

# start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id "i3-dmenu-desktop"
#bindsym $mod+p exec --no-startup-id dmenu_run -b  -fn '-*-fixed-*-*-*-*-10-*-*-*-*-*-*-*' -nb '#111111' -nf '#555555' -sb '#111111' -sf '#aadb0f'

# SCRATCHPAD CREATE
bindsym $mod+Shift+plus move scratchpad

# SCRATCHPAD SHOW
bindsym $mod+plus scratchpad show

### CHANGING BORDER STYLE
#bindsym $mod+t border normal
#bindsym $mod+y border pixel 0
#bindsym $mod+u border none

set $mode_resize resize
bindsym $mod+r mode "$mode_resize"
mode "$mode_resize" {
    bindsym Left resize shrink width 10 px or 1 ppt
    bindsym Down resize grow height 10 px or 1 ppt
    bindsym Up resize shrink height 10 px or 1 ppt
    bindsym Right resize grow width 10 px or 1 ppt

    bindsym Shift+Left resize shrink width 20 px or 5 ppt
    bindsym Shift+Down resize grow height 20 px or 5 ppt
    bindsym Shift+Up resize shrink height 20 px or 5 ppt
    bindsym Shift+Right resize grow width 20 px or 5 ppt

    bindsym 1 mode "default", resize set 1000 600
    bindsym 2 mode "default", resize set 1500 600
    bindsym 3 mode "default", resize set 1200 1000

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $mode_gaps gaps
set $mode_gaps_outer outer gaps
set $mode_gaps_inner inner gaps
bindsym $mod+Shift+g mode "$mode_gaps"
mode "$mode_gaps" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"

    bindsym 0      mode "default", exec --no-startup-id i3-msg "gaps inner current set 0" && i3-msg "gaps outer current set 0"
    bindsym d      mode "default", exec --no-startup-id i3-msg "gaps inner current set $default_gaps_inner" && i3-msg "gaps outer current set $default_gaps_outer"

    bindsym Shift+0      mode "default", exec --no-startup-id i3-msg "gaps inner all set 0" && i3-msg "gaps outer all set 0"
    bindsym Shift+d      mode "default", exec --no-startup-id i3-msg "gaps inner all set $default_gaps_inner" && i3-msg "gaps outer all set #default_gaps_outer"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5
    bindsym 0     mode "default", gaps inner current set 0
    bindsym d     mode "default", gaps inner current set $default_gaps_inner

    bindsym Shift+plus  gaps inner all plus 5
    bindsym Shift+minus gaps inner all minus 5
    bindsym Shift+0     mode "default", gaps inner all set 0
    bindsym Shift+d     mode "default", gaps inner all set $default_gaps_inner

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus  gaps outer current plus 5
    bindsym minus gaps outer current minus 5
    bindsym 0     mode "default", gaps outer current set 0
    bindsym d     mode "default", gaps outer current set $default_gaps_outer

    bindsym Shift+plus  gaps outer all plus 5
    bindsym Shift+minus gaps outer all minus 5
    bindsym Shift+0     mode "default", gaps outer all set 0
    bindsym Shift+d     mode "default", gaps outer all set $default_gaps_outer

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

### ASSIGN WORKSPACE VARIABLES
set $WS1 
set $WS2 
set $WS3 
set $WS4 
set $WS5 
set $WS6 

### WINDOW CONTROL
# Float
## Float everything
#for_window [class="[.]*"] floating enable
#for_window [class=""] floating enable fe
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="Preferences"] floating enable

for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable
for_window [class="xpad" instance="scratchpad"] move scratchpad

# browser pop-ups
for_window [window_role="pop-up"] floating enable,move absolute center

### MOVE TO WORKSPACE mws ,ws
assign [instance="urxvt|$editor"] $WS3
assign [instance="pcmanfm|lxappearance"] $WS2
assign [instance="chromium"] $WS1
assign [class="Geany|Leafpad"] $WS5
assign [instance="drracket"] $WS5
assign [class="MPlayer|Bitcoin|multibit|Dia|Gimp|libreoffice|octave|Octave"] $WS4
assign [instance="astah"] $WS4

### HANDLE POPUPS
#popup_during_fullscreen smart

### SYSTEM KEYBINDINGS
# change focus
bindsym $mod+j focus down
bindsym $mod+k focus up

# move focused window
bindsym $mod+Shift+H move left
#bindsym $mod+Shift+J move down
#bindsym $mod+Shift+K move up
bindsym $mod+Shift+J move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, default)
bindsym $mod+s layout stacking
bindsym $mod+x layout tabbed
bindsym $mod+z layout default

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# switch to workspace
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+exclam move container to workspace $WS1
bindsym $mod+Shift+at move container to workspace $WS2
bindsym $mod+Shift+numbersign move container to workspace $WS3
bindsym $mod+Shift+dollar move container to workspace $WS4
bindsym $mod+Shift+percent move container to workspace $WS5
bindsym $mod+Shift+asciicircum move container to workspace $WS6
bindsym $mod+Shift+ampersand move container to workspace $WS7
bindsym $mod+Shift+asterisk move container to workspace $WS8
bindsym $mod+Shift+parenleft move container to workspace 9
bindsym $mod+Shift+parenright move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+C reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+R restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+E exit

#EXAMPLE USING THE i3 bar
# Create Reboot, Poweroff bindings
set $Locker i3lock && sleep 1

set $mode_system System (l) lock, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    #bindsym l exec --no-startup-id $Locker, mode "default"
    #bindsym s exec --no-startup-id $Locke && systemctl suspend, mode "default"
    bindsym s exec --no-startup-id systemctl suspend, mode "default"
    #bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
    bindsym h exec --no-startup-id systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id shutdown -h now, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+Q mode "$mode_system"

### TAKE A SCREENSHOT
#bindsym Print exec scrot '%Y-%m-%d-%t_$wx$h.png' -e 'mv $f ~/images/screenshots'
bindsym Print exec scrot '%Y-%m-%d--%T.png' -e 'mv $f ~/images/screenshots'

bindsym $mod+e exec geany
bindsym $mod+i exec $editor -e irssi
bindsym $mod+Shift+D exec urxvt -e dia --integrated &
bindsym $MOD+P exec $editor -e htop
bindsym $mod+G exec galculator
bindsym $mod+Return exec --no-startup-id $HOME/local/bin/fullscreen_wrap.sh $editor
bindsym $mod+B exec --no-startup-id chromium
#bindsym $mod+Shift+B exec --no-startup-id bitcoin-qt -datadir=/bitcoin/.bitcoin
bindsym $mod+n exec --no-startup-id pcmanfm

# VOLUME ADJUSTMENT
bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '2%+'"
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '4%-'"
bindsym XF86AudioMute exec "amixer -D pulse set Master toggle"

bindsym XF86AudioPlay exec "mpc toggle"
bindsym XF86AudioStop exec "mpc stop"
bindsym XF86AudioNext exec "mpc next"
bindsym XF86AudioPrev exec "mpc prev"

### START i3bar TO DISPLAY A WORKSPACE BAR (PLUS i3status TO DISPLAY THE SYSTEM INFORMATION)
# finds out, if available)
bar {
	status_command i3blocks
  i3bar_command i3bar -t
	position top
  font pango:Hack, FontAwesome 9
  strip_workspace_numbers yes
  separator_symbol "■"
	bindsym button4 nop
	bindsym button5 nop
	tray_output eDP1
	tray_output LVDS-0
	tray_padding 0
	height 30
	colors {
			statusline         $white
			background         $transparent
			separator          $yellow

#                          BORDER       BACKGROUND   TEXT
			focused_workspace  $transparent $transparent $darkwhite
			inactive_workspace $transparent $transparent $white
			active_workspace   $transparent $transparent $white
			urgent_workspace   $darkred     $darkred     $transparent
			binding_mode       $darkred     $darkred     $transparent
	}
}
